<!DOCTYPE html>

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì „ëŒ€ì—¬ğŸ–– ì´ë²¤íŠ¸</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet" />
</head>

<body>
    <div class="container">
        <h1 class="mt-4 yo"><a href="index.html">ì „ëŒ€ì—¬ğŸ––</a></h1>
        <nav class="headline">
            <button>
                <a href="login.html">ë¡œê·¸ì¸ğŸ”</a>
            </button>
            <button>
                <a href="signup.html">íšŒì›ê°€ì…âœï¸</a>
            </button>
        </nav>
    </div>
    <nav class="header">
        <ul>
            <li class="nav_bar"><a href="location.html">ìœ„ì¹˜</a></li>
            <li class="nav_bar"><a href="rent.html">ëŒ€ì—¬í•˜ê¸°</a></li>
            <li class="nav_bar"><a href="return.html">ë°˜ë‚©/ì—°ì¥í•˜ê¸°</a></li>
            <li class="nav_bar"><a href="maker.html">ì˜ˆìœğŸ¶ğŸ‘£ğŸ“ë“¤</a></li>
            <li class="nav_bar"><a href="lotto.html">ì´ë²¤íŠ¸</a></li>
        </ul>
    </nav>

    <div id="in_lotto">ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”!
        <div>
            <input class="lotto_btn" type="number" name="user_number" min="1" max="45">
            <input class="lotto_btn" type="number" name="user_number" min="1" max="45">
            <input class="lotto_btn" type="number" name="user_number" min="1" max="45">
            <input class="lotto_btn" type="number" name="user_number" min="1" max="45">
            <input class="lotto_btn" type="number" name="user_number" min="1" max="45">
            <input class="lotto_btn" type="number" name="user_number" min="1" max="45">
        </div>
        <button id="done">ì™„ë£Œ</button>
    </div>
    <div id="result">ì¶”ì²¨ ê²°ê³¼ëŠ”?</div>
    <div id="bonus">ë³´ë„ˆìŠ¤:</div>
    <script>
        const $done = document.querySelector('#done')
        $done.addEventListener('click', start)

        function start() {
            const candidate = Array(45) //[1,2,3,4, ..., 41,43,44,45]
                .fill()
                .map((v, i) => i + 1);
            const shuffle = [];
            for (let i = candidate.length; i > 0; i--) {
                const random = Math.floor(Math.random() * i);
                const spliceArray = candidate.splice(random, 1); //[42]
                const value = spliceArray[0];
                shuffle.push(value);
            }
            console.log(shuffle); //[42,1,2,3,4,5,6]
            const winBalls = shuffle.slice(0, 6).sort((a, b) => a - b); //[1,2,3,4,5,6,42] =winBalls
            const bonus = shuffle[6];
            //console.log(winBalls, bonus);

            const $result = document.querySelector("#result");

            function drawBall(number, $parent) {
                const $ball = document.createElement("div");
                $ball.className = "ball";
                $ball.textContent = number;
                $parent.appendChild($ball);
            }

            for (let i = 0; i < winBalls.length; i++) {
                setTimeout(() => {
                    drawBall(winBalls[i], $result);
                }, 1000 * (i + 1));
            }

            const $bonus = document.querySelector("#bonus");
            setTimeout(() => {
                drawBall(bonus, $bonus);
            }, 7000); // ê¸°ë³¸ ë‹¨ìœ„ê°€ ë°€ë¦¬ì´ˆë¼ 7 * 1000í•´ì„œ 7ì´ˆ


            const $lotto_btn = document.querySelectorAll(".lotto_btn")
            const lotto_value = $lotto_btn.value

            function Prize() {
                if (lotto_value == winBalls) {
                    alert("ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ë¬´ë£Œ ëŒ€ì—¬ 2ì‹œê°„ê¶Œì— ë‹¹ì²¨ë˜ì…¨ìŠµë‹ˆë‹¤!")
                }
                else {
                    alert("ê½ì´ì—ìš”. ë¬´ë£Œ ëŒ€ì—¬ê¶Œì€ ë‹¤ìŒ ê¸°íšŒì—ğŸ––")
                }
            }
            setTimeout(() => {
                Prize();
            }, 7500)

        }
    </script>
</body>