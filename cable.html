<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>전대여🖖대여기기 선택 창</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet" />

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 class="mt-4 yo"><a href="index.html">전대여🖖</a></h1>
        <nav class="headline">
            <button>
                <a href="login.html">로그인🔐</a>
            </button>
            <button>
                <a href="signup.html">회원가입✍️</a>
            </button>
        </nav>
    </div>

    <nav class="header">
        <ul>
            <li class="nav_bar"><a href="location.html">위치</a></li>
            <li class="nav_bar"><a href="rent.html">대여하기</a></li>
            <li class="nav_bar"><a href="return.html">반납/연장하기</a></li>
            <li class="nav_bar"><a href="maker.html">예쁜🐶👣📏들</a></li>
            <li class="nav_bar"><a href="lotto.html">이벤트</a></li>
        </ul>
    </nav>

    <div class="container">
        <br>
        <h3 class="text-center font-weight-light">노트북 충전기 고르기</h3><br>

        <table class="table table-striped">
            <thead class="table-danger">
                <th>번호</th>
                <th>메뉴</th>
                <!--<th>가격</th>-->
                <th>수량</th>
                <!--<th>금액</th>-->
                <th>추가</th>
                <th>취소</th>
            </thead>
            <tbody id="menuTable"></tbody>
        </table>

        <!--<h2>합계 : <span id="sum"></span></h2>-->
    </div>
</body>

<script>
    const menu = [
        {
            id: 0,
            item: 'LG Gram',
            //price: 5000,
            num: 0,
            //itemPrice: 0,
        },
        {
            id: 1,
            item: 'SAMSUNG',
            //price: 5000,
            num: 0,
            //itemPrice: 0,
        },
        {
            id: 2,
            item: 'Macbook',
            //price: 6000,
            num: 0,
            //itemPrice: 0,
        },
    ];

    let menuTable = document.getElementById('menuTable');
    let sumPrice = document.getElementById('sum');

    function generateTable() {
        menuTable.innerHTML = '';
        menu.forEach(function (item) {
            let tr = `<tr>
      <td>${item.id}</td>
      <td>${item.item}</td>
      <td>${item.num}</td>
      <td> <button type="button" class="btn btn-danger" onclick="select(${item.id
                })"> + </button> </td>
      <td> <button type="button" class="btn btn-secondary" onclick="unselect(${item.id
                })"> 0 </button> </td>
      </tr>`;
            menuTable.innerHTML += tr;
        });
    }

    generateTable();
    calcSum();

    function select(item) {
        menu[item].num += 1;
        menu[item].itemPrice = menu[item].num * menu[item].price;
        generateTable();
        calcSum();
    }

    function unselect(item) {
        menu[item].num = 0;
        menu[item].itemPrice = menu[item].num * menu[item].price;
        generateTable();
        calcSum();
    }

    function calcSum() {
        let sum = 0;
        menu.forEach(function (item) {
            item.itemPrice = item.price * item.num;
            sum += item.itemPrice;
        });
        sumPrice.innerHTML = new Intl.NumberFormat().format(sum);
    }
</script>

</html>